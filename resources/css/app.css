@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        scroll-behavior: smooth;
    }

    body {
        @apply font-sans bg-slate-50 text-ink-800 antialiased;
    }

    h1,
    h2,
    h3,
    h4 {
        @apply font-display text-ink-900 tracking-tight;
    }
}

@layer components {
    .page-section {
        @apply py-16 md:py-24;
    }

    .section-heading {
        @apply text-3xl md:text-4xl lg:text-5xl font-bold mb-6;
    }

    .section-eyebrow {
        @apply text-sm uppercase tracking-[0.35em] text-accent-500 font-semibold mb-4;
    }

    .btn-primary {
        @apply inline-flex items-center gap-2 rounded-full bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-soft transition-all duration-300 hover:bg-brand-500 hover:shadow-lg hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-300 focus-visible:ring-offset-2;
    }

    .btn-secondary {
        @apply inline-flex items-center gap-2 rounded-full border border-brand-200 bg-white px-6 py-3 text-sm font-semibold text-brand-700 shadow-sm transition-all duration-300 hover:border-brand-400 hover:text-brand-800 hover:shadow-md hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-300 focus-visible:ring-offset-2;
    }

    .card {
        @apply rounded-3xl bg-white p-8 shadow-card transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl border border-gray-100;
    }

    .card-muted {
        @apply rounded-3xl bg-gradient-to-b from-white/90 to-brand-50/35 p-8 shadow-soft;
    }

    /* Homepage Modern Styles */
    .section-modern {
        @apply py-16 md:py-20 lg:py-24;
    }

    .heading-modern {
        @apply text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight;
    }

    .modern-card {
        @apply bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden;
    }

    .animated-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        background-size: 400% 400%;
        animation: gradientShift 8s ease infinite;
    }

    @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .btn-modern {
        @apply inline-flex items-center justify-center px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300;
    }

    .play-button-large {
        @apply transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-white/50;
    }

    .value-card {
        @apply bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 text-center border border-gray-100;
    }

    .advisor-card-modern {
        @apply bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden;
    }

    .advisor-image-modern {
        @apply w-full h-64 transition-transform duration-300;
    }

    .advisor-card-modern:hover .advisor-image-modern {
        transform: scale(1.05);
    }

    .focus-visible-modern:focus-visible {
        @apply outline-none ring-4 ring-blue-300 ring-opacity-50;
    }

    .stat-pill {
        @apply flex flex-col items-center gap-2 rounded-3xl bg-white/90 px-6 py-5 text-center shadow-card backdrop-blur;
    }

    .grid-auto-fit {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
        gap: 1.5rem;
    }

    .hero-panel {
        @apply relative overflow-hidden rounded-[2.75rem] bg-hero-gradient text-white shadow-[0_45px_80px_-35px_rgba(8,19,54,0.65)] border border-white/10;
    }

    .blurred-spot {
        @apply absolute inset-0 opacity-40 mix-blend-screen;
        background: radial-gradient(circle at 20% 20%, rgba(255, 199, 120, 0.45), transparent 55%),
            radial-gradient(circle at 80% 30%, rgba(124, 197, 255, 0.35), transparent 60%),
            radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0.3), transparent 65%);
    }

    .badge-soft {
        @apply inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-xs font-medium text-white;
    }

    .link-underline {
        @apply relative inline-block font-semibold text-brand-700 transition;
    }

    .link-underline::after {
        @apply absolute left-0 top-full h-[2px] w-full bg-brand-500 transition;
        content: '';
        transform: scaleX(0);
        transform-origin: left;
    }

    .link-underline:hover::after {
        transform: scaleX(1);
    }

    @keyframes float-soft {
        0%,
        100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    .float-soft {
        animation: float-soft 6s ease-in-out infinite;
    }

    @keyframes fade-up {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .fade-up {
        animation: fade-up 0.7s ease-out forwards;
    }

    .section-fade-in {
        opacity: 0;
        transform: translateY(30px);
        animation: sectionFadeIn 0.8s ease-out forwards;
    }

    @keyframes sectionFadeIn {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Scroll-triggered fade-in */
    .scroll-fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .scroll-fade-in.fade-in-up {
        opacity: 1;
        transform: translateY(0);
    }

    /* Icon bounce animation */
    .icon-bounce {
        transition: transform 0.3s ease-in-out;
    }

    .group:hover .icon-bounce {
        animation: iconBounce 0.6s ease-in-out;
    }

    @keyframes iconBounce {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-8px) rotate(12deg); }
    }

    /* Card flip animation */
    .card-flip-container {
        perspective: 1000px;
    }

    .card-flip {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.6s;
        transform-style: preserve-3d;
    }

    @media (hover: hover) and (pointer: fine) {
        .card-flip:hover {
            transform: rotateY(180deg);
        }
    }

    .card-flip-front,
    .card-flip-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
    }

    .card-flip-back {
        transform: rotateY(180deg);
    }

    /* Underline draw animation */
    .underline-draw {
        position: relative;
        display: inline-block;
    }

    .underline-draw::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background-color: currentColor;
        transition: width 0.3s ease-in-out;
    }

    .underline-draw:hover::after {
        width: 100%;
    }

    /* Star rating fill animation */
    .star-rating {
        display: inline-flex;
        gap: 2px;
    }

    .star {
        color: #e5e7eb;
        transition: color 0.3s ease;
    }

    .star-filled {
        color: #fbbf24;
        animation: starFill 0.5s ease-in-out;
    }

    @keyframes starFill {
        0% {
            transform: scale(0.8);
            opacity: 0.5;
        }
        50% {
            transform: scale(1.2);
        }
        100% {
            transform: scale(1);
            opacity: 1;
        }
    }

    /* Parallax effect */
    .parallax {
        will-change: transform;
    }

    @media (prefers-reduced-motion: reduce) {
        .parallax {
            transform: none !important;
        }
    }

    /* Pulse animation for CTA button */
    .animate-pulse-on-hover:hover {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Section dividers */
    .divider-wave {
        position: relative;
        overflow: hidden;
    }

    .divider-wave::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: inherit;
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 80%);
    }

    .divider-wave-top::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: inherit;
        clip-path: polygon(0 20%, 100% 0, 100% 100%, 0 100%);
    }

    .divider-slant {
        position: relative;
        overflow: hidden;
    }

    .divider-slant::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: inherit;
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 85%);
    }

    .divider-slant-top::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: inherit;
        clip-path: polygon(0 15%, 100% 0, 100% 100%, 0 100%);
    }
}

@layer utilities {
    .custom-scrollbar::-webkit-scrollbar {
        width: 0.6rem;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        @apply rounded-full bg-slate-100;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        @apply rounded-full bg-brand-400/80 transition;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        @apply bg-brand-500;
    }
}

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
